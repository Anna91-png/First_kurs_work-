# First_kurs_work

## Описание

Этот проект — учебное приложение для анализа и отчётности по личным финансам.  
Проект разделён на модули по принципу функциональности:  
- главная страница с приветствием и транзакциями  
- сервисы (например, анализ кешбэка)  
- отчёты (например, траты по категориям)  
- вспомогательные утилиты  

## Структура проекта

```
First_kurs_work-/
│
├── src/
│   ├── views.py         # Главная страница (основная логика отображения)
│   ├── services.py      # Сервисы (например, анализ выгодных кешбэков)
│   ├── reports.py       # Отчёты (например, траты по категориям)
│   └── utils.py         # Вспомогательные функции
│
├── tests/
│   ├── test_utils.py
│   ├── test_views.py
│   ├── test_services.py
│   └── test_reports.py
│
├── main.py              # Демонстрация работы функций
└── README.md            # Описание проекта
```

## Быстрый старт

1. **Установите зависимости**  
   (Если используете virtualenv/venv, создайте и активируйте его)
   ```
   pip install pandas pytest
   ```

2. **Запуск демонстрационного примера**
   ```
   python main.py
   ```

3. **Запуск тестов**
   ```
   pytest
   ```

## Описание модулей

- **src/views.py** — формирует главную страницу: приветствие и топ-5 транзакций за всё время.
- **src/services.py** — сервисные функции, например: анализ выгодных категорий повышенного кешбэка.
- **src/reports.py** — отчёты по данным, например: сумма трат по выбранной категории за период.
- **src/utils.py** — вспомогательные функции: работа с датами, форматирование, сериализация в JSON.

## Тесты

- Все модули покрыты тестами (pytest).
- Используются фикстуры, параметризация, patch/mocking.
- Все тесты находятся в папке `tests/`.
- Для запуска:  
  ```
  pytest
  ```
- Покрытие кода — более 80%.

## Пример использования

```python
import pandas as pd
from src.views import main_page
from src.services import cashback_by_category
from src.reports import category_report

df = pd.DataFrame([
    {"date": "2024-05-15", "amount": -1000, "category": "Супермаркеты", "description": "Пятёрочка"},
    {"date": "2024-05-18", "amount": -800, "category": "Фастфуд", "description": "Макдоналдс"},
    {"date": "2024-05-22", "amount": 5000, "category": "Пополнение", "description": "Зарплата"}
])
df['date'] = pd.to_datetime(df['date'])

data = [
    {"Дата операции": "2024-05-15", "Категория": "Супермаркеты", "Кэшбэк": 100},
    {"Дата операции": "2024-05-18", "Категория": "Фастфуд", "Кэшбэк": 200}
]

print(main_page("2024-05-22 12:00:00", df))
print(cashback_by_category(data, 2024, 5))
print(category_report(df, "Супермаркеты", "2024-05-22"))
```

## Авторы

- [Anna91-png](https://github.com/Anna91-png)

---

Учебный проект для закрепления навыков структурирования Python-приложений и написания тестов.